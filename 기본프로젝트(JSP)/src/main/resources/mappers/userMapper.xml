<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.user.repository.UserMapper">

    <insert id="insertUser" parameterType="Map" >
          INSERT INTO USER_D 
               ( USER_NO
               , USER_NM
               , USER_EMAIL
               , USER_PW
               , USER_PHONE
               , USER_ADDRESS
               , USER_ADDRESS_DETAIL
               , USER_ADDRESS_CODE
               , USER_ADDRESS_EXTRA
               , USER_STATUS_CD
               , USE_YN
               , DEL_YN
               , REG_DTM
               )
          VALUES
               ( SEQ_USER_NO.NEXTVAL
               , #{userNm}
               , #{userEmail}
               , #{userPw}
               , #{userPhone}
               , #{userAddress}
               , #{userAddressDetail}
               , #{userAddressCode}
               , #{userAddressExtra}
               , '01'
               , 'Y'
               , 'Y'
               , SYSDATE
               )
    </insert>
    
    <select id="checkEmail" parameterType="Map" >
    	SELECT COUNT(*)
    	  FROM USER_D
    	 WHERE USER_EMAIL = #{userEmail}
    </select>
    
    <select id="checkLogin" parameterType="Map" resultType="Map">
    	SELECT USER_NO
    	     , USER_NM    	
    	     , USER_EMAIL
    	     , USER_PW
    	  FROM USER_D
    	 WHERE USER_EMAIL = #{userEmail}
    </select>
    <select id="checkUser" parameterType="Map">
    	SELECT COUNT(*)
    	  FROM USER_D
    	 WHERE USER_NM = #{userNm}
    </select>
    

</mapper>